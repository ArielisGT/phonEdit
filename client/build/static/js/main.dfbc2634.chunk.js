(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),a=c.n(r),s=c(21),i=c.n(s),j=(c(28),c(11)),l=c(2),u=c(4),o=c.n(u),b=c(9),O=c(5),h=c(15),d=function(e,t){var c=localStorage.getItem(e),n=c?JSON.parse(c):t,a=Object(r.useState)(n),s=Object(O.a)(a,2),i=s[0],j=s[1];return Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,j]},x=function(e){var t=e.albums,c=d("userCollection",[]),r=Object(O.a)(c,2),a=r[0],s=r[1],i=function(e){e.preventDefault();var t=e.currentTarget.id,c=[].concat(Object(h.a)(a),[t]);s(c)};return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return console.log(e),Object(n.jsxs)("article",{className:"album",children:[Object(n.jsx)("button",{onClick:i,id:e._id,className:"favorite",children:"ADD TO COLLECTION"}),Object(n.jsx)("div",{className:e.className}),Object(n.jsx)("h4",{children:e.name})]},e._id)}))})},m="https://metallica-ariel.herokuapp.com",f=function(){var e=Object(b.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/albums"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/albums/").concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(o.a.mark((function e(t){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=8;break}return c=Object(h.a)(new Set(t)),e.next=4,Promise.all(c.map(function(){var e=Object(b.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.useState)([]),t=Object(O.a)(e,2),c=t[0],a=t[1],s=function(){var e=Object(b.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("main",{className:"container-home",children:[Object(n.jsx)("div",{className:"left",children:Object(n.jsx)("h4",{children:"CHOOSE ALBUMS TO START YOUR FAVOURITE COLLECTION:"})}),Object(n.jsx)("div",{className:"wrapper-album",children:Object(n.jsx)(x,{albums:c})}),Object(n.jsxs)("div",{className:"right",children:[Object(n.jsx)("h4",{children:"GO TO COLLECTION"}),Object(n.jsx)("a",{href:"/collection",className:"go",children:">"})]})]})})},E=function(){var e=d("userCollection",[]),t=Object(O.a)(e,2),c=t[0],a=(t[1],Object(r.useState)([])),s=Object(O.a)(a,2),i=s[0],j=s[1],l=Object(r.useState)(!1),u=Object(O.a)(l,2),h=u[0],x=u[1],m=Object(r.useState)(-1),f=Object(O.a)(m,2),p=f[0],N=f[1],E=function(){var e=Object(b.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(c);case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){e.preventDefault();var t=i.findIndex((function(t){return t.name===e.target.innerHTML}));if(-1===t)return null;N(t),x(!0)};return Object(r.useEffect)((function(){E()}),[]),Object(n.jsxs)("main",{className:"container-collection",children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("h3",{children:"USER:"}),Object(n.jsx)("h4",{children:"Username"})]}),Object(n.jsxs)("section",{className:"wrapper-collection",children:[Object(n.jsxs)("div",{className:"title",children:[Object(n.jsx)("h3",{children:"ALBUM"}),Object(n.jsx)("h3",{children:"YEAR"})]}),i.map((function(e){return Object(n.jsxs)("article",{onClick:w,className:"album-row",value:e.name,children:[Object(n.jsx)("h3",{value:e.name,children:e.name}),Object(n.jsx)("h3",{value:e.name,children:e.year}),Object(n.jsx)("button",{type:"submit",className:"favorite",children:"EDIT"}),Object(n.jsx)("button",{type:"submit",className:"favorite",children:"DELETE"})]},e._id)})),h&&Object(n.jsxs)("section",{className:"wrapper-album",children:[Object(n.jsx)("div",{className:i[p].className}),Object(n.jsx)("h1",{children:i[p].name}),Object(n.jsx)("h2",{children:i[p].year}),Object(n.jsx)("h2",{children:i[p].bandMembers}),Object(n.jsx)("div",{className:"wrapper-track",children:i[p].tracks.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:e.title}),Object(n.jsx)("h2",{children:e.duration})]})}))})]})]}),Object(n.jsx)("div",{className:"right"})]})},w=function(){var e=d("userCollection",[]),t=Object(O.a)(e,2),c=t[0],a=(t[1],Object(r.useState)([])),s=Object(O.a)(a,2),i=s[0],j=s[1],l=function(){var e=Object(b.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(c);case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e){e.preventDefault();var t=i.findIndex((function(t){return t.name===e.target.innerHTML}));console.log(t)};return Object(r.useEffect)((function(){l()}),[]),Object(n.jsxs)("main",{className:"container-playlist",children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("h3",{children:"USER:"}),Object(n.jsx)("h4",{children:"Username"})]}),Object(n.jsxs)("section",{className:"wrapper-collection",children:[Object(n.jsxs)("div",{className:"title",children:[Object(n.jsx)("h3",{children:"ALBUM"}),Object(n.jsx)("h3",{children:"YEAR"}),Object(n.jsx)("h3",{children:"DURATION"}),Object(n.jsx)("h3",{children:"PREVIEW"})]}),i.map((function(e){return Object(n.jsxs)("article",{onClick:u,className:"album-row",children:[Object(n.jsx)("h3",{children:e.name}),Object(n.jsx)("h3",{children:e.year}),Object(n.jsx)("h3",{children:e.className}),Object(n.jsx)("button",{type:"submit",className:"favorite",children:"EDIT"}),Object(n.jsx)("button",{type:"submit",className:"favorite",children:"DELETE"})]},e._id)}))]})]})},g=function(){return Object(n.jsxs)("main",{className:"error",children:[Object(n.jsx)("h2",{children:"404"}),Object(n.jsx)("h3",{children:"PAGE NOT FOUND"})]})},S=function(){return Object(n.jsx)("footer",{children:Object(n.jsx)("p",{children:"\xa9 SEI - ES 01 AR IS JEFF 2020"})})},T=c.p+"static/media/logo_silver.d28f43de.png",y=Object(l.f)((function(){return Object(n.jsxs)("header",{children:[Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("h1",{children:Object(n.jsx)("img",{src:T,alt:"logo",className:"logo"})})}),Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/collection",className:"links",children:"COLLECTION"})}),Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/playlist",className:"links",children:"PLAYLIST"})})]})})]})}));var k=function(){return Object(n.jsx)("div",{className:"app",children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(y,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:N}),Object(n.jsx)(l.a,{path:"/collection",component:E}),Object(n.jsx)(l.a,{path:"/playlist",component:w}),Object(n.jsx)(l.a,{path:"/*",component:g})]}),Object(n.jsx)(S,{})]})})};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(k,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.dfbc2634.chunk.js.map